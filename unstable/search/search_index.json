{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Instructions","text":""},{"location":"#linux-setup","title":"Linux Setup","text":"<p>Assumptions:</p> <ul> <li>You have installed X-Plane 11.50+</li> <li>You have a reasonably fast CPU and broadband internet </li> <li>FUSE is installed and setup (Enable <code>user_allow_other</code> in /etc/fuse.conf, if not already the case.) </li> </ul>"},{"location":"#steps","title":"Steps:","text":"<ol> <li>Download the most recent packaged release (autortho_lin_####.bin) from here</li> <li>Make executable if needed <code>chmod +x autoortho_lin.bin</code> </li> <li>Run the program <code>./autoortho_lin.bin</code></li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately</li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#windows-setup","title":"Windows Setup","text":"<p>Assumptions:</p> <ul> <li>You are running 64bit Windows 10+</li> <li>You have install X-Plane 11.50+</li> <li>You have setup and configured either: Dokan or WinFSP</li> <li> <ul> <li>If you have trouble with one, try the other!      Some users on Windows 11 have better luck     with WinFSP for some reason.  Windows users should always attempt both before asking questions on forums!!! </li> </ul> </li> <li> <ul> <li>If both Dokan and WinFSP are installed, Dokan will be preferred.      Users can force preferring WinFSP by setting prefer_winfsp=True in their config file.</li> </ul> </li> <li>You install all components, including scenery, on a local NTFS drive.</li> </ul>"},{"location":"#zip-file-steps","title":"Zip File Steps:","text":"<ol> <li>Download the most recent packaged release (autoortho_win_####.zip) from here</li> <li>Extract the downloaded directory.</li> <li>Run <code>autoortho_win.exe</code> from within the extracted dir.</li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately </li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#experimental-installer-steps","title":"Experimental Installer Steps:","text":"<p>Alternatively, there is now an installer that can be used.  This is experimental ATM:</p> <ol> <li>Download the most recent packaged release (AutoOrtho_####.exe) from here</li> <li>Run the program.</li> <li>If there is a prior install you will be prompted to uninstall first.  Do    this.</li> <li>Run AutoOrtho from your system start menu.</li> <li>Configure your settings and paths for your system </li> <li>Download and setup an ortho set from the 'Scenery' tab.</li> <li>Click 'Run' to run the program</li> <li>Configure your scenery_packs.ini file appropriately </li> <li>Run X-Plane and choose a location for an ortho set you have downloaded</li> </ol>"},{"location":"#macos-setup","title":"MacOS Setup","text":"<p>All of below steps require running command in <code>Ternimal</code> app.</p> <ol> <li>Install Homebrew if you don't have it yet.</li> <li> <p>Install FUSE for macOS with command <code>brew install --cask macfuse</code>.</p> <p>Note: You need to enable FUSE in <code>System Preferences</code> -&gt; <code>Security &amp; Privacy</code> -&gt; <code>General</code> -&gt; <code>Allow apps downloaded from:</code> -&gt; <code>App Store and identified developers</code>. Watch some youtobe videos if you don't know how to do it.</p> </li> <li> <p>Install&amp;Run it</p> </li> </ol> <pre><code>./autoortho_ui\n</code></pre> <ol> <li>Optional: some of us needs manually mount</li> </ol> <pre><code>./autoortho_cmd \"/Users/dzou/X-Plane 12/autoOrtho/z_autoortho/scenery/z_ao_aus_pac\" \"/Users/dzou/X-Plane 12//Custom Scenery/z_ao_aus_pac\"\n</code></pre>"},{"location":"#i-might-put-a-native-plugin-to-do-step4","title":"(I might put a native plugin to do Step4)","text":""},{"location":"#requirements-and-compatibility","title":"Requirements and Compatibility","text":"<p>To run from source, this project requires python3.x and all pre-requisites in the <code>requirements.txt</code> file.  Also, a copy of X-Plane 11.50+ of course.</p> <p>Most testing is done on Ubuntu 22.04 using FUSE.  Other Linux flavors ought to work as well.  MacOS very likely should work, but I have no way of testing it.</p> <p>I have done testing on Windows 10 with the Dokan project. This does appear to work fine, but this is not how I use this project, so it's not my primary concern.</p>"},{"location":"#known-issues-and-limits","title":"Known issues and limits","text":"<ul> <li>Currently I try to limit the memory usage, though it's possible it   will exceed this in certain scenarios.</li> <li>Not really possible to post-process the satellite photos.  You get what you   get.</li> <li>Will add a couple minutes to initial flight time for new areas.  That's to   be expected though.</li> <li>Will require and use a lot of internet requests (surprise!) and writes a lot of small files locally.   There are many parts along your path that may need tuning or may not like this (ISP, DNS, Wifi, drive speed, CPU speed, etc).   User's should be ready to diagnose their specific setup and determine if this project fits withing their own personal computing requirements.</li> <li>Windows has too many variations with how filesystems are handled, links are   done, intrusive malware detection systems, etc and will likely always be   slower and more difficult to use with this project.</li> </ul>"},{"location":"#todos","title":"TODOS","text":"<ul> <li>~See if this will work on Windows with WinFSP~ </li> <li>~Allow for overriding the satellite source type.  Since this pulls on the fly, we aren't stuck with what was setup initially with Ortho4XP.~</li> <li>~Package a set of DSF files to get started with~</li> <li>Attempt to make a workable OSX version</li> </ul>"},{"location":"#warnings-warranty-etc","title":"Warnings, Warranty, etc","text":"<p>This project is provided free of charge and is not warrantied in any way.  Use at your own risk.</p> <p>Accessing map data from 3rd parties may or may not be allowed and is up to you the end user to determine and use appropriately.</p>"},{"location":"config/","title":"Configuration","text":"<p>Setup and configuration for most use cases should be pretty simple. The important settings are:</p> <ul> <li>Scenery install path</li> <li>X-Plane install path</li> <li>Downloader directory</li> </ul>"},{"location":"config/#scenery-install-path","title":"Scenery install path","text":"<p>This is the location that scenery will be installed to.  Previously this defaulted to a user's existing X-Plane Custom Scenery directory, but that is no longer the case.  </p> <p>It should be possible to set this to a convenient location with enough room to install scenery packages.  Each scenery package can take around 20-30GB.</p> <p>This can be an external NAS or separate drive, but I have not tried all drive combinations.  Speed of external storage will naturally impact performance to a certain degree.  Plan accordingly.</p>"},{"location":"config/#x-plane-install-path","title":"X-Plane install path","text":"<p>This is the X-Plane install location.  Under this directory should be X-Plane's <code>Custom Scenery</code> directory.  IT IS IMPORTANT THIS IS THE CORRECT LOCATION</p> <p>From this directory AutoOrtho will create mount points and run the program.</p> <p>IF THIS IS NOT CORRECT THINGS WILL NOT WORK RIGHT</p>"},{"location":"config/#download-directory","title":"Download directory","text":"<p>This is the path that will be used to temporarily store zip files and other fetched files for scenery setup.  By default this will be in under the user's home dir under <code>.autoortho-data/downloads</code></p> <p>For Windows users, it is highly recommended to set a Windows Defender exception to this directory otherwise expect VERY slow setup of scenery.</p> <p>This folder can be set to any convenient location with enough space for scenery downloads (20-30GB per).</p>"},{"location":"config/#user-config-file-location","title":"User config file location","text":"<p>The configuration file <code>.autoortho</code> is located in the user's home directory.  </p>"},{"location":"details/","title":"Approach","text":"<p>There does not appear to be a way to hook directly into the internal texture loading mechanism of X-Plane via plugins.  Instead, this project acts as a virtual file system interface for orthophoto satellite imagery.</p> <p>As needed, imagery is downloaded from the indicated satellite photo sources as areas are requested.  Imagery files are detected by naming convention of <code>{row}_{col}_{maptype}_{zoomlevel}.dds</code>  This is the standard convention for imagery created from Ortho4XP.</p>"},{"location":"details/#how-does-x-plane-access-scenery","title":"How does X-Plane access scenery?","text":"<p>Let's look at how X-Plane accesses scenery.  In the install directory of X-Plane there will be a <code>Custom Scenery</code> folder.  Under this folder there will be a number of sub directories of scenery and a <code>scenery_packs.ini</code> configuration file.  This is where X-Plane will look for scenery.</p> <p>Under each scenery subdirectory, there will be an <code>Earth Nav Data</code> directory that contains a number of lat-lon named subdirectories.  Under these subdirectories will be a number of DSF files that contain instructions for X-Plane for this set of coordinates.</p> <p>These DSF files are picked up by X-Plane based on the area that you are flying.  During flight initialization a set of these files around your takeoff location are loaded.  While flying new DSF files will be loaded.  This loading while flying happens asynchronously behind the scenes.</p> <p>The DSF files can contain various instructions for X-Plane.  What we are interested in for orthophotos are terrain files.  The terrain files a DSF contains would then point to the textures requested for this terrain, including satellite photo textures.  These files are typically <code>.dds</code> files, though that's not always the case.</p> <p>DDS files can contain multiple copies of the same texture at reduced resolutions.  These are referred to as 'mipmaps'.  This allows X-Plane to just pull in the minimum amount of data that is required into memory at any given time.  Typically the maximum resolution for a texture is only required while flying low and for close by tetxures.</p>"},{"location":"details/#how-this-project-leverages-this-setup-high-level-description","title":"How this project leverages this setup (high level description)","text":"<p>This project effectively requires all the parts of normal orthophoto satellite imagery, except for the satellite photos themselves.</p> <p>Existing mechanisms to create and manage DSF files, and related terrain files, still applies.  X-Plane continues to reference these files as per normal.</p> <p>This program will detect when DDS files are accessed and read from X-Plane. When X-Plane attempts to read a specific mipmap of a texture this program will pull down just the minimum required data and return this data to X-Plane. This happens behind the scenes and as far as X-Plane is concerned, it is continuing to read a normal filesystem.</p> <p>Since we only download the minimum required data, this process is relatively efficient.</p> <p>Data is cached in memory until a memory limit is reached, at which time older data will be purged.</p>"},{"location":"details/#expert-usage-and-overriding-defaults","title":"Expert Usage and Overriding Defaults","text":""},{"location":"details/#warning","title":"Warning","text":"<p>I highly recommend using the pre-packaged scenery packs provided with this tool.  </p> <p>However, it's entirely possible to use your own scenery, if you wish.  This could be useful for situations where you want an area I haven't gotten to packaging yet, or want a different zoom level that what is provided.</p> <p>This should be considered an experts-only feature though and assumes: * You are very comfortable with the command line * You are very experienced using Ortho4XP and with installing custom scenery * You are very familiar with filesystem concepts and managing your Operating   System</p> <p>If you don't have this experience, that's okay, but likely you will struggle adding your own custom created scenery.  I would recommend that you familiarize yourself with each of these listed items before proceeding.</p>"},{"location":"details/#adding-your-own-created-sceneries","title":"Adding your own created sceneries","text":"<p>Ready to add your own sceneries? Great!</p> <p>So as mentioned above, this tool effectively overrides the 'textures' directory that XPlane is pointing to in order to location satellite imagery that is referrenced by a scenery pack's terrain files.</p> <p>Due to how XPlane identifies terrain information, these directories have been split up into reasonable sized pieces, which is why each provided scenery pack has numerous numbered directories. </p> <p>This project creates a special pass through filesystem that mounts directories into a location that XPlane can find and intercepts requests to '.dds' files.  This is handled through the magic of FUSE (Filesystem in UserSpacE).  FUSE is a common and standard feature of Linux, but requires extra stuff for other Operatings Systems.s</p> <p>Sceneries stripped of satellite imagery, likely still have coastline PNG files that must be preserved.  These are simply passed through when requested.</p> <p>You can take advantage of this setup for your own scenery that you have packaged: * Place your scenery directory in <code>Custom Scenery/z_autoortho/scenery</code></p> <p>When execute Autoortho will detect directories in that scenery dir and mount these in your configured <code>Custom Scenery</code> directory.</p>"},{"location":"details/#ortho4xp-usage-tips","title":"Ortho4XP Usage Tips","text":"<p>Ortho4XP can generate scenery files without downloading photos, which is perfect for this project.  In the config set <code>skip_downloads</code> to <code>True</code></p> <p>Since this starts with low resolution imagery until you get going, I recommend enabling <code>high_zl_airports</code></p> <p>So far I've been testing with a ZL of 16 for most tiles with increased ZL of 18 for airports.  You may have want to play around with the ZL levels for best results.</p> <p>Higher zoom levels will lead to increased resource usage and longer delays initially starting up flights.</p>"},{"location":"faq/","title":"FAQ and Troubleshooting","text":""},{"location":"faq/#general-issues","title":"General Issues","text":""},{"location":"faq/#i-see-occasional-blurry-andor-green-tiles","title":"I see occasional blurry and/or green tiles","text":"<p>There is a timeout for how long the system waits for individual satellite images.  You can adjust how long the system waits for high resolution images by adjusting the 'max_wait' setting (in seconds) in your configuration file.  Lower resolution tiles are used when available as a fall back.  The green tile is used as a last resort.</p> <p>By making this too high you risk introducing lag, stuttering, and delays. However this may need to be increased for users that are far from source servers or have slow internet connections.</p>"},{"location":"faq/#i-see-a-messge-in-the-logs-but-otherwise-things-work-fine","title":"I see a messge in the logs, but otherwise things work fine.","text":"<p>The log will log various things, typically info and warnings can be ignored unless other issues are seen.</p>"},{"location":"faq/#in-xplane-i-get-an-error-like-failed-to-find-resource-textures22304_34976_bi16dds-referenced-from-file-custom-sceneryz_eur_11terrain","title":"In XPlane I get an error like <code>Failed to find resource '../textures/22304_34976_BI16.dds', referenced from file 'Custom Scenery/z_eur_11/terrain/'.</code>","text":"<p>What's happening is that X-Plane has found a terrain file, but is not finding a linked texture.  This could be caused by a few issues:</p> <ul> <li>AutoOrtho isn't running</li> <li>You may have broken the links from your texture directories to the AutoOrtho mount location. Perhaps you manually moved around directories after downloading these from the configuration utility.</li> <li>The directory AutoOrtho is configured to run from is now different from the directory links the scenery packs point to.</li> <li>On Windows 11 try uninstalling Dokan (and reboot) and install WinFSP     instead. Or vice versa.</li> </ul> <p>First verify that AutoOrtho is running and there are no obvious errors shown in a log.  If it is running then verify that all the directory links are correct, and consider simply cleaning up and reinstalling scenery from scratch, keeping a consistent 'Custom Scenery' directory configured.</p> <p>If in doubt, re-install the scenery packs.</p>"},{"location":"faq/#something-went-wrong-with-scenery-setup-and-id-like-to-start-again-how-do-i-reinstall","title":"Something went wrong with scenery setup and I'd like to start again.  How do I reinstall?","text":"<p>AutoOrtho checks for metadata for installed scenery packs in <code>Custom Scenery/z_autoorth/**_info.json</code>  Where '**' is a shortname for each scenery pack installed.  You can delete the corresponding .json file, and re-run the configuration utility and should be able to reinstall the scenery pack</p>"},{"location":"faq/#i-installed-scenery-setup-custom-scenery-and-clicked-run-but-x-plane-did-not-automatically-startup","title":"I installed scenery, setup Custom Scenery, and clicked 'Run' but X-Plane did not automatically startup","text":"<p>You have to start X-Plane separately from this tool.  It's also best to start X-Plane after starting autoortho so that all new files and directories are picked up.</p>"},{"location":"faq/#linux-issues","title":"Linux Issues","text":""},{"location":"faq/#when-using-the-binary-release-on-linux-i-get-an-ssl-certificate_verify_failed-error","title":"When using the binary release on Linux I get an 'SSL: CERTIFICATE_VERIFY_FAILED' error","text":"<p>You may need to specify the SSL_CERT_DIR your particular operating system uses.  For example:</p> <pre><code>SSL_CERT_DIR=/etc/ssl/certs ./autoortho_lin.bin\n</code></pre>"},{"location":"faq/#on-linux-this-does-not-startgives-a-fuse-error","title":"On Linux this does not start/gives a FUSE error","text":"<p>Make sure that your <code>/etc/fuse.conf</code> files is set to <code>user_allow_other</code>.  You may need to uncomment a line.</p>"},{"location":"faq/#the-program-crashed-and-now-i-get-an-error-when-autoortho-attempts-to-mount","title":"The program crashed and now I get an error when AutoOrtho attempts to mount","text":"<p>You can clear mounts manually with the command <code>sudo umount -f AutoOrtho</code>. You may need to run this for each remaining mount.  The <code>mount</code> command will list your current mount points.</p>"},{"location":"faq/#windows-issues","title":"Windows Issues","text":""},{"location":"faq/#when-using-windows-i-see-an-error-using-the-runbat-file-such-as-note-this-error-originates-from-a-subprocess-and-is-likely-not-a-problem-with-pip-error-legacy-install-failure","title":"When using Windows I see an error using the run.bat file such as <code>note: This error originates from a subprocess, and is likely not a problem with pip. error: legacy-install-failure</code>","text":"<p>This is likely due to having a very new version of Python and a package dependency that does not have a pre-built 'wheel' binary.  Further in that error you will see a link to visual studio build tools that can be installed.  You could also try downgrading your version of Python.  For instance try uninstalling Python 3.11 and install Python 3.10.</p>"},{"location":"faq/#downloading-and-extracting-files-takes-a-very-long-time-on-windows","title":"Downloading and extracting files takes a very long time on Windows","text":"<p>This may be due to Windows Defender real time scanning be enabled.  You can temporarily disable this, which should make a difference, but it will be re-enabled automatically.</p> <p>You can exclude directories, such as `C:\\Users.autoortho-data' or wherever else you installed your download and cache directories.</p>"},{"location":"faq/#on-windows-the-executablezip-is-detected-as-a-malwarevirus-by-windows-defender","title":"On Windows the executable/zip is detected as a malware/virus by Windows Defender","text":"<p>That is a false positive.  Unfortunately, Windows is very dev and opensource unfriendly.  You can choose to ignore this false positive or not, it's your computer.  Alternatively, you can run this directly via source.</p>"},{"location":"faq/#i-get-an-error-when-running-with-scenery-installed-on-a-non-local-drive-or-non-ntfs-formatted-drive-when-using-windows","title":"I get an error when running with scenery installed on a non-local drive or non-NTFS formatted drive when using Windows","text":"<p>This is not supported. Use a local NTFS formatted drive.</p>"},{"location":"info/","title":"Info Attributions and Other Projects","text":"<ul> <li>Maps generated from Ortho4XP</li> <li>Slippy Mapy Tilenames</li> <li>Icon by Vital Gorbachev</li> </ul>"},{"location":"scenery/","title":"Scenery Setup","text":""},{"location":"scenery/#using-provided-sceneries","title":"Using provided sceneries","text":"<p>IMPORTANT</p> <p>The scenery packs provided with this tool that you download should be setup via the configuration utility.  This does more than simply download and extract the files.</p> <p>If you do wish to manaually manipulate these scenery packs, you should review the source code (downloader.py in particular) and understand how symlinks and/or junctions work and the limitations of each.</p> <p>If you manually move things around outside of the configuration utility, things very well might break!</p> <p>IMPORTANT</p>"},{"location":"scenery/#configuring-scenery_packsini","title":"Configuring scenery_packs.ini","text":"<p>Any scenery added to XPlane requires being setup in the scenery_packs.ini file located in your installs 'Custom Scenery' directory.</p> <p>This file is order dependent where higher priority layers are towards the top of the file and lower priority items are towards the bottom.</p> <p>On initial run of XPlane after installing new scenery, these layers will automatically be added to your scenery_packs.ini file, but likely in an incorrect location.</p> <p>This can result in strange issues, such as having no roads, buildings, or trees when flying with XPlane.  If this is the case, double check the order of files in scenery_packs.ini.</p> <p>This tool will download and setup numerous directories in your 'Custom Scenery' folder of the form:  <code>z_ao_&lt;short name of scenery pack&gt;</code> and a directory named <code>yAutoOrtho_Overlays</code>.  Typically these should be listed towards the bottom of your scenery_packs.ini file:</p> <pre><code>Landmarks, airports, etc\nsimHeaven, special layers, etc\nyAutoOrtho_Overlays\nz_ao_aus_pac\nz_ao_eur\nz_ao_na\nz_autoortho\nzzz_global_scenery\n</code></pre>"},{"location":"scenery/#installing-in-custom-directories","title":"Installing in custom directories","text":"<p>It is possible to install scenery into directories other than X-Plane's Custom Scenery directory.  </p> <p>You should have a good understanding of how X-Plane handles custom scenery before attempting this!</p> <ol> <li>This will require that you configure AutoOrtho to point the 'Custom Scenery' setting to this alternative directory.</li> <li>Setup and install scenery as per normal.  Run the program at least once to    create the mount points.  You should see folder that correspond to the    installed packages now in the alternative directory that was setup.  The    format will look like <code>z_ao_XXXX</code></li> <li>You will then need to manually link each of the resulting mount directories to X-Planes's origin Custom Scenery dir.    On Linux you can use a symlink.  On Windows you can create a shortcut.</li> <li>Make sure Autoortho is running and start X-Plane.  Double check your    <code>scenery_packs.ini</code> file to assure the directories are seen.</li> </ol>"}]}